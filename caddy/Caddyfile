:80 {
    file_server /* {
        root /dists
    }
    reverse_proxy /lug/* siyuan-lug:7001 {
        header_down Access-Control-Allow-Origin *
        header_down Access-Control-Request-Method GET
    }
    encode gzip

    @hidden {
        path */.*
    }
    respond @hidden 404
    @reject_lug_api {
        path /lug/v1/admin/*
    }
    respond @reject_lug_api 403

    redir /centos /centos/ 301
    file_server /centos/* browse {
        root /srv
        hide .*
    }
    redir /csw /csw/ 301
    file_server /csw/* browse {
        root /srv
        hide .*
    }
    redir /debian /debian/ 301
    file_server /debian/* browse {
        root /srv
        hide .*
    }
    redir /debian-cd /debian-cd/ 301
    file_server /debian-cd/* browse {
        root /srv
        hide .*
    }
    redir /debian-security /debian-security/ 301
    file_server /debian-security/* browse {
        root /srv
        hide .*
    }
    redir /deepin /deepin/ 301
    file_server /deepin/* browse {
        root /srv
        hide .*
    }
    redir /deepin-cd /deepin-cd/ 301
    file_server /deepin-cd/* browse {
        root /srv
        hide .*
    }
    redir /docker-ce /docker-ce/ 301
    file_server /docker-ce/* browse {
        root /srv
        hide .*
    }
    redir /fedora /fedora/ 301
    file_server /fedora/* browse {
        root /srv
        hide .*
    }
    redir /fedora-secondary /fedora-secondary/ 301
    file_server /fedora-secondary/* browse {
        root /srv
        hide .*
    }
    redir /linuxmint /linuxmint/ 301
    file_server /linuxmint/* browse {
        root /srv
        hide .*
    }
    redir /linuxmint-cd /linuxmint-cd/ 301
    file_server /linuxmint-cd/* browse {
        root /srv
        hide .*
    }
    redir /mageia /mageia/ 301
    file_server /mageia/* browse {
        root /srv
        hide .*
    }
    redir /opensuse /opensuse/ 301
    file_server /opensuse/* browse {
        root /srv
        hide .*
    }
    redir /openvz /openvz/ 301
    file_server /openvz/* browse {
        root /srv
        hide .*
    }
    redir /remi /remi/ 301
    file_server /remi/* browse {
        root /srv
        hide .*
    }
    redir /scientific /scientific/ 301
    file_server /scientific/* browse {
        root /srv
        hide .*
    }
    redir /ubuntu /ubuntu/ 301
    file_server /ubuntu/* browse {
        root /srv
        hide .*
    }
    redir /ubuntu-cd /ubuntu-cd/ 301
    file_server /ubuntu-cd/* browse {
        root /srv
        hide .*
    }
}
